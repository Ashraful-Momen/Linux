# 🧾 **grep Command Cheat Sheet – Linux Text Search Power Tool**

`grep` (Global Regular Expression Print) is one of the most powerful and widely used command-line tools in Linux/Unix for **searching text using patterns**. This cheat sheet covers the essential `grep` commands with practical examples.

Perfect for developers, sysadmins, and Kali Linux users!

---

## 🔍 Basic Syntax
```bash
grep [options] PATTERN [FILE...]
```

---

## ✅ 1. Basic Search

| Command | Description |
|--------|-------------|
| `grep "error" log.txt` | Search for "error" in `log.txt` |
| `grep -i "ERROR" log.txt` | Case-insensitive search |
| `grep -w "root" passwd` | Match whole word only (not "rooted") |
| `grep -n "failed" auth.log` | Show line numbers |
| `grep -c "warning" system.log` | Count number of matching lines |

---

## 📁 2. File & Directory Search

| Command | Description |
|--------|-------------|
| `grep -r "password" /home/user/` | Recursively search in all files under a directory |
| `grep -r "TODO" . --include="*.py"` | Search only `.py` files |
| `grep -r "secret" . --exclude="*.log"` | Exclude `.log` files |
| `grep -l "success" *.log` | Show only filenames that contain the pattern |
| `grep -L "failed" *.log` | Show files that **do NOT** contain the pattern |

---

## 🔐 3. Advanced Options (Great for Kali & Security)

| Command | Description |
|--------|-------------|
| `grep -v "INFO" app.log` | Invert match: show lines **without** "INFO" |
| `grep -E "error|warning|critical" log.txt` | Use extended regex (OR logic) |
| `grep -A 3 -B 2 "ssh login" auth.log` | Show **3 lines after**, **2 lines before** match |
| `grep -C 5 "root" auth.log` | Show **5 lines context** (before & after) |
| `dmesg | grep -i "usb"` | Pipe output and search (real-time logs) |

> 💡 Use `-A`, `-B`, `-C` to debug logs or analyze attack patterns in Kali.

---

## 🧪 4. Regular Expressions (Regex) with grep

| Pattern | Matches |
|--------|--------|
| `^start` | Lines starting with "start" |
| `end$` | Lines ending with "end" |
| `^$` | Empty lines |
| `^[^#]` | Lines not starting with `#` (skip comments) |
| `.*\.conf` | Lines containing `.conf` |
| `[0-9]\{3\}-[0-9]\{4\}` | Match phone numbers like 555-1234 |

Example:
```bash
grep "^[^#]" /etc/apache2/apache2.conf
```
→ Shows only non-comment, non-empty lines.

---

## 🛡️ 5. Security & Kali-Specific Tips

| Use Case | Command |
|--------|--------|
| Find passwords in config files | `grep -r -i "password\|passwd\|pass" /opt/project/` |
| Hunt for TODOs or backdoors | `grep -r -n "TODO\|FIXME\|backdoor" .` |
| Check open ports from nmap grepable | `grep "open" scan.gnmap` |
| Extract IPs from logs | `grep -E -o "\b([0-9]{1,3}\.){3}[0-9]{1,3}\b" access.log` |
| Filter failed logins | `grep "Failed password" /var/log/auth.log` |

> 🔍 Combine with `cut`, `sort`, `uniq`:  
```bash
grep "Failed password" auth.log | cut -d' ' -f11 | sort | uniq -c | sort -nr
```
→ Shows top attacking IPs.

---

## 🧰 6. Useful Options Summary

| Option | Meaning |
|-------|--------|
| `-i` | Ignore case |
| `-r` or `-R` | Recursive search |
| `-l` | List matching filenames only |
| `-n` | Show line number |
| `-c` | Count matching lines |
| `-v` | Invert match |
| `-w` | Match whole word |
| `-E` | Enable extended regex |
| `-A N` | After: N lines after match |
| `-B N` | Before: N lines before match |
| `-C N` | Context: N lines before & after |
| `-o` | Only show matched part |
| `--color=always` | Highlight matches in color |

---

## 📚 Example: Analyze Web Logs (Kali/CTF)

```bash
# Find all 404 errors
grep " 404 " access.log

# Extract unique User-Agents
grep -i "Mozilla" access.log | cut -d'"' -f6 | sort | uniq

# Find SQL injection attempts
grep -i "select\|union\|from\|where" access.log

# Count requests per IP
grep -E -o "\b([0-9]{1,3}\.){3}[0-9]{1,3}\b" access.log | sort | uniq -c | sort -nr
```

---

## 💡 Pro Tips

- Use `alias grep='grep --color=auto'` in `~/.bashrc` for colored output.
- Combine `grep` with `find`:  
  ```bash
  find /var/log -name "*.log" -exec grep -l "error" {} \;
  ```
- Use `rg` (ripgrep) for **faster** searching (install via `sudo apt install ripgrep`).

---

## 📄 Downloadable Cheat Sheet (Text Format)

```text
# grep CHEAT SHEET
grep "text" file.txt        # Search text
grep -i "Text" file.txt     # Case insensitive
grep -r "pass" /dir/        # Recursive search
grep -n "error" log.txt     # Show line numbers
grep -v "info" log.txt      # Invert match
grep -E "a|b" file.txt      # OR pattern
grep -A 2 -B 1 "match" f    # Context around match
grep -o "\d\+" file.txt     # Only extract numbers
```

---

## ✅ Final Note

> `grep` is your **best friend** for log analysis, CTFs, penetration testing, and debugging. Master it — and you’ll fly through text like a pro.

🔧 Especially in **Kali Linux**, `grep` is essential for parsing `nmap`, `burp`, `wireshark`, and exploit output.

---

